<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Website Sederhana</title>
</head>
<body>
    <div class="container">
        <h2>Sistem Pengecekan Tipe Konektor</h2>
        <div class="form-group">
            <label for="connector">Nomor Konektor:</label>
            <input type="text" id="connector" placeholder="Contoh: 7123-1424-30">
            <div id="result" class="result" style="display: none;"></div>
        </div>
        <button onclick="checkConnector()">Cek Tipe Konektor</button>
    </div>

    <script>
        // Variabel untuk menyimpan database
        let connectorDatabase = null;
        
        // Fungsi untuk memuat database dari file JSON eksternal
        async function loadDatabase() {
            try {
                const response = await fetch('Databases.json');
                
                if (!response.ok) {
                    throw new Error('File database tidak dapat diakses');
                }
                
                const data = await response.json();
                connectorDatabase = data;
                console.log('Database konektor berhasil dimuat');
            } catch (error) {
                console.error('Error loading database:', error);
                showResult('error', 'Gagal memuat database. Pastikan file connectors.json tersedia.');
            }
        }
        
        // Fungsi untuk mengecek tipe konektor
        function checkConnector() {
            const connectorInput = document.getElementById('connector').value.trim();
            const resultDiv = document.getElementById('result');
            
            if (!connectorInput) {
                showResult('error', 'Harap masukkan nomor konektor.');
                return;
            }
            
            // Tampilkan loading jika database belum dimuat
            if (!connectorDatabase) {
                showResult('loading', 'Memuat database...');
                loadDatabase().then(() => {
                    // Setelah database dimuat, cek konektor
                    checkConnectorInDatabase(connectorInput);
                });
            } else {
                checkConnectorInDatabase(connectorInput);
            }
        }
        
        // Fungsi untuk mengecek konektor dalam database
        function checkConnectorInDatabase(connectorInput) {
            const resultDiv = document.getElementById('result');
            
            // Cek apakah konektor ada dalam database
            if (connectorDatabase && connectorDatabase.hasOwnProperty(connectorInput)) {
                const connectorType = connectorDatabase[connectorInput];
                showResult('success', ${connectorType});
            } else {
                showResult('error', `Konektor <strong>${connectorInput}</strong> tidak ditemukan dalam database.`);
            }
        }
        
        // Fungsi untuk menampilkan hasil
        function showResult(type, message) {
            const resultDiv = document.getElementById('result');
            resultDiv.className = 'result ' + type;
            resultDiv.innerHTML = message;
            resultDiv.style.display = 'block';
        }
        
        // Memuat database saat halaman pertama kali dibuka
        window.onload = function() {
            loadDatabase();
        };
    </script>
</body>
</html>





